(window.webpackJsonp=window.webpackJsonp||[]).push([[301],{1725:function(e,r,t){"use strict";t.r(r);var n=t(42),p=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ceph社区动态-2022-12-13-2022-1-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ceph社区动态-2022-12-13-2022-1-16"}},[e._v("#")]),e._v(" Ceph社区动态（2022-12-13~2022-1-16）")]),e._v(" "),t("h2",{attrs:{id:"qunicy-版本特性冻结-将于3月份发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qunicy-版本特性冻结-将于3月份发布"}},[e._v("#")]),e._v(" Qunicy 版本特性冻结，将于3月份发布")]),e._v(" "),t("p",[e._v("Qunicy特性已于2022.1.15特性冻结，进入测试阶段，除了常规测试，此次比之前做更多的伸缩测试，测试规模达到1000+ osd，预计将于2022年3月发布。")]),e._v(" "),t("h2",{attrs:{id:"近期社区合入pr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#近期社区合入pr"}},[e._v("#")]),e._v(" 近期社区合入pr")]),e._v(" "),t("ul",[t("li",[e._v("common，PriorityCache优化，将缓存内容按时间进行组织，更细粒度的优先级划分，不过测试来看，性能提升不明显 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43299",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43299"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("bluestore，写过程优化，检查写数据bufferlist中0，并跳过，不进行写入，有相关的计数器可以进行观测 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43337",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43337"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("bluestore，启动过程中减少fsck内存的消耗 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43667",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43667"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("bluestore bluefs锁优化，调整锁粒度 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43794",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43794"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("bluestore 使用基于大页的读buffer，暂时默认关闭 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43691",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43691"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("mon，在create pool时新增--bulk的标记，pg autoscaler会将pool的初始pg数调整为最大的值，默认情况下，pg autoscaler将pool的初始pg数调整为最小值，并动态更改"),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44241",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44241"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("mgr, 新增pg_autoscaler全局的打开和关闭命令 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43716",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43716"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("mgr，实现TTL cache, 来缓存集群信息，减少与集群的交互 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44088",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44088"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("mgr balancer优化，重构calc_pg_upmaps "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44002",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44002"),t("OutboundLink")],1),e._v("，准备在Qunicy版本实现primary balancer，以实现容量和负载的均衡")]),e._v(" "),t("li",[e._v("重删，cephdeduptool, 新增按chunk（偏移、长度）和对象进行去重的功能，更易于使用重删功能"),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/43686",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#43686"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("rgw, s3select功能，基于arrow实现parquet格式支持"),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/40802",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#40802"),t("OutboundLink")],1),e._v(", 由于依赖的问题，编译时暂时默认关闭该功能"),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44603",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44603"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("rgw，新增用户/bucket级别的速率限制 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/42891",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#42891"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("rgw中，减少不必要的bucket stats load "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44538",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44538"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("rgw 添加max_header_size的选项，来调整beast的parse buffer大小，默认的大小为16K，最大64K，较大的buffer size能够减少socket read的个数 "),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/44029",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#44029"),t("OutboundLink")],1),e._v("，对比之前的版本中，在"),t("a",{attrs:{href:"https://github.com/ceph/ceph/pull/29776",target:"_blank",rel:"noopener noreferrer"}},[e._v("pr#29776"),t("OutboundLink")],1),e._v("固定为64K，增加了灵活性。")])]),e._v(" "),t("h2",{attrs:{id:"近期ceph-developer动态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#近期ceph-developer动态"}},[e._v("#")]),e._v(" 近期Ceph Developer动态")]),e._v(" "),t("p",[e._v("Ceph社区各个模块会定期举行会议，讨论和对齐开发进展，会后有视频上传至"),t("a",{attrs:{href:"https://www.youtube.com/channel/UCno-Fry25FJ7B4RycCxOtfw/videos",target:"_blank",rel:"noopener noreferrer"}},[e._v("youtube"),t("OutboundLink")],1),e._v("，主要会议信息如下：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("会议名称")]),e._v(" "),t("th",[e._v("说明")]),e._v(" "),t("th",[e._v("频率")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("Crimson SeaStore OSD Weekly Meeting")]),e._v(" "),t("td",[e._v("Crimson & Seastore开发周例会")]),e._v(" "),t("td",[e._v("周")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Orchestration Meeting")]),e._v(" "),t("td",[e._v("Ceph管理模块（Mgr）开发")]),e._v(" "),t("td",[e._v("周")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph DocUBetter Meeting")]),e._v(" "),t("td",[e._v("文档优化")]),e._v(" "),t("td",[e._v("双周")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Performance Meeting")]),e._v(" "),t("td",[e._v("Ceph性能优化")]),e._v(" "),t("td",[e._v("双周")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Developer Monthly")]),e._v(" "),t("td",[e._v("Ceph开发者月度例会")]),e._v(" "),t("td",[e._v("月")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Testing Meeting")]),e._v(" "),t("td",[e._v("版本验证及发布例会")]),e._v(" "),t("td",[e._v("月")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Science User Group Meeting")]),e._v(" "),t("td",[e._v("Ceph科学计算领域会议")]),e._v(" "),t("td",[e._v("不定期")])]),e._v(" "),t("tr",[t("td",[e._v("Ceph Leadership Team Meeting")]),e._v(" "),t("td",[e._v("Ceph领导团队例会")]),e._v(" "),t("td",[e._v("周")])])])]),e._v(" "),t("p",[e._v("近期主要关注Performance，会议讨论了如下内容:")]),e._v(" "),t("ul",[t("li",[e._v("Quincy版本性能测试，需要与pacific版本进行对比，nvme性能测试将基于mako（amd EPYC 7742）进行，部署120 osd，测试涵盖单节点多节点（副本，ec），测试工具主要有fio(rbd cephfs), hsbench（rgw),tcmu-runner（iscsi/nbd）, omapbench(mds)")]),e._v(" "),t("li",[e._v("Qunicy版本可能会加入恢复测试")]),e._v(" "),t("li",[e._v("Pacific 测试过程发现，perf cycles/op monitoring对性能有影响，up to 15%")]),e._v(" "),t("li",[e._v("ceph中内存使用情况并不透明，有好多模块内存跟踪不到，可能需要更多内存相关优化。")])])])}),[],!1,null,null,null);r.default=p.exports}}]);