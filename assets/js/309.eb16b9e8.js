(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{1747:function(e,r,t){"use strict";t.r(r);var o=t(42),a=Object(o.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"概要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[e._v("#")]),e._v(" 概要")]),e._v(" "),t("p",[e._v("树莓派由英国“Raspberry Pi 基金会”开发，类似微型计算机，价格便宜，体积小，具有电脑的所有基本功能。自2012年以来，几乎每年都有新的版本发布，而且配置有了很大提升。树莓派从最初只做主板，到现在已经慢慢增加了周边的设备，包括显示器、摄像头以及一些传感器等。树莓派40针接口作为一个开放接口，提供了很大开发空间。作为开源硬件领域的一个较为高阶的硬件产品，树莓派近年来得到了越来越的开发者和专业人士的追捧。")]),e._v(" "),t("p",[e._v("为了降低 openEuler 使用门槛，促进用户推广，让大家尽快体验并使用 openEuler，本文将介绍如何将 openEuler 移植到树莓派。")]),e._v(" "),t("p",[e._v("本文主要包括三部分：")]),e._v(" "),t("ul",[t("li",[e._v("刷写镜像")]),e._v(" "),t("li",[e._v("使用树莓派")]),e._v(" "),t("li",[e._v("构建镜像")])]),e._v(" "),t("p",[e._v("本文内容参考自 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler-RaspberryPi"),t("OutboundLink")],1),e._v("。如有疑问，欢迎大家在本文提交评论或者在 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler-RaspberryPi"),t("OutboundLink")],1),e._v(" 提交 issue。")]),e._v(" "),t("h1",{attrs:{id:"刷写镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷写镜像"}},[e._v("#")]),e._v(" 刷写镜像")]),e._v(" "),t("h2",{attrs:{id:"实验环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实验环境"}},[e._v("#")]),e._v(" 实验环境")]),e._v(" "),t("ul",[t("li",[e._v("Windows10/Linux/Mac")]),e._v(" "),t("li",[e._v("树莓派 3B/3B+/4B")]),e._v(" "),t("li",[e._v("16G 以上的 Micro SD 卡")])]),e._v(" "),t("h2",{attrs:{id:"获取树莓派-img-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取树莓派-img-镜像"}},[e._v("#")]),e._v(" 获取树莓派 img 镜像")]),e._v(" "),t("p",[e._v("下载适配树莓派的 openEuler 镜像，也可以参照 "),t("a",{attrs:{href:"#%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F"}},[e._v("构建镜像")]),e._v(" 定制自己的 openEuler 树莓派镜像。")]),e._v(" "),t("p",[e._v("下载 openEuler 发布的 openEuler 20.09 版本镜像，"),t("a",{attrs:{href:"https://repo.openeuler.org/openEuler-20.09/raspi_img/aarch64/openEuler-20.09-raspi-aarch64.img.xz",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("该镜像的基本信息：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/changelog/changelog-20.09-release.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("更新日志"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("发布时间：2020-09-30")]),e._v(" "),t("li",[e._v("大小：259 MiB")]),e._v(" "),t("li",[e._v("操作系统版本：openEuler 20.09")]),e._v(" "),t("li",[e._v("内核版本：4.19.138-2008.1.0.0001")]),e._v(" "),t("li",[e._v("固件来源："),t("a",{attrs:{href:"https://github.com/raspberrypi/firmware",target:"_blank",rel:"noopener noreferrer"}},[e._v("firmware"),t("OutboundLink")],1),e._v("、"),t("a",{attrs:{href:"https://github.com/RPi-Distro/bluez-firmware",target:"_blank",rel:"noopener noreferrer"}},[e._v("bluez-firmware"),t("OutboundLink")],1),e._v("、"),t("a",{attrs:{href:"https://github.com/RPi-Distro/firmware-nonfree",target:"_blank",rel:"noopener noreferrer"}},[e._v("firmware-nonfree"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("构建文件系统的源仓库："),t("a",{attrs:{href:"https://gitee.com/src-openeuler/openEuler-repos/blob/openEuler-20.09/generic.repo",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler 20.09 源仓库"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("镜像内置源仓库："),t("a",{attrs:{href:"https://gitee.com/src-openeuler/openEuler-repos/blob/openEuler-20.09/generic.repo",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler 20.09 源仓库"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("发布的镜像更新情况参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler-RaspberryPi"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"刷写-sd-卡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷写-sd-卡"}},[e._v("#")]),e._v(" 刷写 SD 卡")]),e._v(" "),t("p",[e._v("可以在 Windows、Linux、Mac 环境下的刷写 SD 卡，详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E5%88%B7%E5%86%99%E9%95%9C%E5%83%8F.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("刷写镜像"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("下面我们以 Windows 环境为例，介绍如何将镜像刷写到 SD 卡。")]),e._v(" "),t("h3",{attrs:{id:"格式化-sd-卡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#格式化-sd-卡"}},[e._v("#")]),e._v(" 格式化 SD 卡")]),e._v(" "),t("p",[e._v("请按照以下步骤格式化 SD 卡：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("下载并安装格式化 SD 卡工具，以下操作以 SD Card Formatter 格式化工具为例。")])]),e._v(" "),t("li",[t("p",[e._v("打开 SD Card Formatter，在 “Select card” 中选择需要格式化的 SD 卡的盘符。")]),e._v(" "),t("p",[e._v("若 SD 卡之前未安装过镜像，盘符只有一个。在 “Select card” 中选择需要格式化的 SD 卡对应盘符。")]),e._v(" "),t("p",[e._v("若 SD 卡之前安装过镜像，盘符会有一个或多个。例如，SD 卡对应三个盘符：E、G、H。在 “Select card” 中选择需要格式化的 SD 卡对应 boot 分区盘符 E。")])]),e._v(" "),t("li",[t("p",[e._v("在 “Formatting options” 中选择格式化方式。默认为 “Qick format”。")])]),e._v(" "),t("li",[t("p",[e._v("单击“Format”开始格式化。界面通过进度条显示格式化进度。")])]),e._v(" "),t("li",[t("p",[e._v("格式化完成后会弹出 “Formatting was successfully completed” 的提示框，单击“确定”完成格式化。")])])]),e._v(" "),t("h3",{attrs:{id:"写入-sd-卡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写入-sd-卡"}},[e._v("#")]),e._v(" 写入 SD 卡")]),e._v(" "),t("p",[e._v("注意，如果获取的是压缩后的镜像文件，如 "),t("code",[e._v("openEuler-20.09-raspi-aarch64.img.xz")]),e._v("，需要先将压缩文件解压得到 "),t("code",[e._v("openEuler-20.09-raspi-aarch64.img")]),e._v(" 镜像文件。")]),e._v(" "),t("p",[e._v("请按照以下步骤将 "),t("code",[e._v("openEuler-20.09-raspi-aarch64.img")]),e._v(" 镜像文件写入 SD 卡：")]),e._v(" "),t("ol",[t("li",[e._v("下载并安装刷写镜像的工具，以下操作以 Win32 Disk Imager 工具为例。")]),e._v(" "),t("li",[e._v("右键选择“以管理员身份运行”，打开 Win32 Disk Imager。")]),e._v(" "),t("li",[e._v("在“映像文件”中选择 img 格式的镜像文件路径。")]),e._v(" "),t("li",[e._v("在“设备”中选择待写入的 SD 卡盘符。")]),e._v(" "),t("li",[e._v("单击“写入”。界面通过任务进度条显示写入 SD 卡的进度。")]),e._v(" "),t("li",[e._v("写入完成后会弹出 “写入成功” 的提示框，单击“OK”完成写入。")])]),e._v(" "),t("h1",{attrs:{id:"使用树莓派"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用树莓派"}},[e._v("#")]),e._v(" 使用树莓派")]),e._v(" "),t("h2",{attrs:{id:"启用树莓派"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用树莓派"}},[e._v("#")]),e._v(" 启用树莓派")]),e._v(" "),t("p",[e._v("版本要求：树莓派 3B/3B+/4B。")]),e._v(" "),t("p",[e._v("默认用户名：root，密码：openeuler。")]),e._v(" "),t("p",[e._v("将刷写镜像后的 SD 卡插入树莓派，通电启用。")]),e._v(" "),t("p",[e._v("登录树莓派有以下两种方式：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("本地登录")]),e._v(" "),t("p",[e._v("树莓派连接显示器（树莓派视频输出接口为 Micro HDMI）、键盘、鼠标后，启动树莓派，可以看到树莓派启动日志输出到显示器上。待树莓派启动成功，输入用户名（root）和密码（openeuler）登录。")])]),e._v(" "),t("li",[t("p",[e._v("ssh 远程登录")]),e._v(" "),t("p",[e._v("树莓派默认采用 DHCP 的方式自动获取 IP。如果树莓派连接已知路由器，可登录路由器查看，新增的 IP 即为树莓派 IP。例如，树莓派对应 IP 为：192.168.31.109，使用命令 "),t("code",[e._v("ssh root@192.168.31.109")]),e._v(" 后输入密码 "),t("code",[e._v("openeuler")]),e._v("，即可远程登录树莓派。")])])]),e._v(" "),t("h2",{attrs:{id:"根目录分区扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根目录分区扩展"}},[e._v("#")]),e._v(" 根目录分区扩展")]),e._v(" "),t("p",[e._v("默认根目录分区空间比较小，在使用之前，需要对分区进行扩容。详情参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8.md#%E6%A0%B9%E7%9B%AE%E5%BD%95%E5%88%86%E5%8C%BA%E6%89%A9%E5%B1%95",target:"_blank",rel:"noopener noreferrer"}},[e._v("根目录分区扩展\n"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"wifi-连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wifi-连接"}},[e._v("#")]),e._v(" wifi 连接")]),e._v(" "),t("p",[e._v("wifi 使用详情参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8.md#wifi-%E8%BF%9E%E6%8E%A5",target:"_blank",rel:"noopener noreferrer"}},[e._v("wifi 连接\n"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"音频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#音频"}},[e._v("#")]),e._v(" 音频")]),e._v(" "),t("p",[e._v("音频使用详情参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8.md#%E9%9F%B3%E9%A2%91",target:"_blank",rel:"noopener noreferrer"}},[e._v("音频\n"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"蓝牙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#蓝牙"}},[e._v("#")]),e._v(" 蓝牙")]),e._v(" "),t("p",[e._v("蓝牙使用详情参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8.md#%E8%93%9D%E7%89%99",target:"_blank",rel:"noopener noreferrer"}},[e._v("蓝牙\n"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"gpio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gpio"}},[e._v("#")]),e._v(" GPIO")]),e._v(" "),t("p",[e._v("GPIO 使用详情参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8.md#gpio",target:"_blank",rel:"noopener noreferrer"}},[e._v("GPIO\n"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h1",{attrs:{id:"构建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建镜像"}},[e._v("#")]),e._v(" 构建镜像")]),e._v(" "),t("p",[e._v("可以根据需要定制内核，构建镜像。详细内容请参考 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/openEuler%E9%95%9C%E5%83%8F%E7%9A%84%E6%9E%84%E5%BB%BA.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler 镜像的构建"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("主要过程包括：")]),e._v(" "),t("ol",[t("li",[e._v("准备环境")]),e._v(" "),t("li",[e._v("编译内核")]),e._v(" "),t("li",[e._v("准备树莓派固件和应用")]),e._v(" "),t("li",[e._v("制作 openEuler 的 rootfs")]),e._v(" "),t("li",[e._v("制作镜像")])]),e._v(" "),t("h2",{attrs:{id:"准备环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备环境"}},[e._v("#")]),e._v(" 准备环境")]),e._v(" "),t("ul",[t("li",[e._v("操作系统：openEuler；")]),e._v(" "),t("li",[e._v("架构：AArch64；")]),e._v(" "),t("li",[e._v("硬盘存储不低于 50G；")]),e._v(" "),t("li",[e._v("内存不低于 2G；")]),e._v(" "),t("li",[e._v("可访问外网。")])]),e._v(" "),t("p",[e._v("可以通过以下方式获取 AArch64 架构的运行环境：")]),e._v(" "),t("ul",[t("li",[e._v("使用 AArch64 架构的主机，例如刷写 openEuler 镜像的树莓派 3B/3B+/4B")]),e._v(" "),t("li",[e._v("使用 "),t("a",{attrs:{href:"https://www.qemu.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("QEMU"),t("OutboundLink")],1),e._v(" 模拟器搭建 AArch64 运行环境")])]),e._v(" "),t("h2",{attrs:{id:"编译内核"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译内核"}},[e._v("#")]),e._v(" 编译内核")]),e._v(" "),t("p",[e._v("除了使用 AArch64 架构的 openEuler 或 Centos 7/8 运行环境，也可以采用交叉编译的方式编译内核，文档详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("交叉编译内核"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("用户可以根据需要定制自己的内核，内核编译过程详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/openEuler%E9%95%9C%E5%83%8F%E7%9A%84%E6%9E%84%E5%BB%BA.md#%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8",target:"_blank",rel:"noopener noreferrer"}},[e._v("编译内核"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"准备树莓派固件和应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备树莓派固件和应用"}},[e._v("#")]),e._v(" 准备树莓派固件和应用")]),e._v(" "),t("p",[e._v("过程详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/openEuler%E9%95%9C%E5%83%8F%E7%9A%84%E6%9E%84%E5%BB%BA.md#%E6%A0%91%E8%8E%93%E6%B4%BE%E5%9B%BA%E4%BB%B6%E5%92%8C%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[e._v("树莓派固件和应用"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("树莓派固件：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/raspberrypi/firmware",target:"_blank",rel:"noopener noreferrer"}},[e._v("firmware"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/RPi-Distro/bluez-firmware",target:"_blank",rel:"noopener noreferrer"}},[e._v("bluez-firmware"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/RPi-Distro/firmware-nonfree",target:"_blank",rel:"noopener noreferrer"}},[e._v("firmware-nonfree"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("树莓派应用：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/RPi-Distro/pi-bluetooth",target:"_blank",rel:"noopener noreferrer"}},[e._v("pi-bluetooth"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"制作-openeuler-的-rootfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作-openeuler-的-rootfs"}},[e._v("#")]),e._v(" 制作 openEuler 的 rootfs")]),e._v(" "),t("p",[e._v("过程详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/openEuler%E9%95%9C%E5%83%8F%E7%9A%84%E6%9E%84%E5%BB%BA.md#%E5%88%B6%E4%BD%9C-openeuler-%E7%9A%84-rootfs",target:"_blank",rel:"noopener noreferrer"}},[e._v("制作 openEuler 的 rootfs"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("使用 rpm 命令制作 openEuler 的 rootfs，并为 rootfs 安装 NetworkManager、openssh-server、 passwd 等必要软件，设置网络等。")]),e._v(" "),t("p",[e._v("rootfs 的基本信息：")]),e._v(" "),t("ul",[t("li",[e._v("操作系统版本：openEuler 20.09")]),e._v(" "),t("li",[e._v("构建文件系统的源仓库："),t("a",{attrs:{href:"https://gitee.com/src-openeuler/openEuler-repos/blob/openEuler-20.09/generic.repo",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler 20.09 源仓库"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("镜像内置源仓库："),t("a",{attrs:{href:"https://gitee.com/src-openeuler/openEuler-repos/blob/openEuler-20.09/generic.repo",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler 20.09 源仓库"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"制作镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作镜像"}},[e._v("#")]),e._v(" 制作镜像")]),e._v(" "),t("p",[e._v("过程详见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/documents/openEuler%E9%95%9C%E5%83%8F%E7%9A%84%E6%9E%84%E5%BB%BA.md#%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F",target:"_blank",rel:"noopener noreferrer"}},[e._v("制作镜像"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("主要过程包括：")]),e._v(" "),t("ol",[t("li",[e._v("创建镜像文件\n"),t("ol",[t("li",[e._v("创建镜像后分区")]),e._v(" "),t("li",[e._v("格式化分区后挂载其 boot 和根目录分区")])])]),e._v(" "),t("li",[e._v("完善根目录分区，需要拷贝的文件\n"),t("ol",[t("li",[e._v("制作的 rootfs")]),e._v(" "),t("li",[e._v("编译的内核模块")]),e._v(" "),t("li",[e._v("树莓派部分固件和应用")])])]),e._v(" "),t("li",[e._v("完善 boot 分区，需要拷贝的文件\n"),t("ol",[t("li",[e._v("树莓派引导文件")]),e._v(" "),t("li",[e._v("编译的内核和设备树文件")])])])]),e._v(" "),t("p",[e._v("注意，完善根目录分区时还需要根据实际情况设置 fstab 等内容，完善 boot 分区时需要根据实际需要设置 config.txt 等内容。")]),e._v(" "),t("p",[e._v("至此，openEuler 的树莓派镜像制作完成。发布的镜像更新情况参见 "),t("a",{attrs:{href:"https://gitee.com/openeuler/raspberrypi/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEuler-RaspberryPi"),t("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);r.default=a.exports}}]);