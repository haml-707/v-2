(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{1707:function(a,t,e){"use strict";e.r(t);var s=e(42),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"apache-2-4-39-移植指南-openeuler-20-03-lts-sp1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apache-2-4-39-移植指南-openeuler-20-03-lts-sp1"}},[a._v("#")]),a._v(" Apache 2.4.39 移植指南（openEuler 20.03 LTS SP1）")]),a._v(" "),e("h1",{attrs:{id:"介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),e("h2",{attrs:{id:"简要介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简要介绍"}},[a._v("#")]),a._v(" 简要介绍")]),a._v(" "),e("p",[a._v("Apache HTTP Server（简称Apache）是Apache软件基金会的一个开放源码的网页服务器，可以在大多数计算机操作系统中运行，由于其多平台和安全性被广泛使用，是最流行的Web服务器端软件之一。它快速、可靠并且可通过简单的API扩展，将Perl/Python等解释器编译到服务器中。")]),a._v(" "),e("p",[a._v("开发语言：C")]),a._v(" "),e("p",[a._v("一句话描述：Web 服务器")]),a._v(" "),e("h2",{attrs:{id:"建议的版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建议的版本"}},[a._v("#")]),a._v(" 建议的版本")]),a._v(" "),e("p",[a._v("建议使用版本为“Apache httpd 2.4.39”及以上版本。")]),a._v(" "),e("h1",{attrs:{id:"环境要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境要求"}},[a._v("#")]),a._v(" 环境要求")]),a._v(" "),e("h2",{attrs:{id:"硬件要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#硬件要求"}},[a._v("#")]),a._v(" 硬件要求")]),a._v(" "),e("p",[a._v("硬件要求如下所示。")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("项目")]),a._v(" "),e("th",[a._v("说明")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("服务器")]),a._v(" "),e("td",[a._v("TaiShan 200服务器（型号2280）")])]),a._v(" "),e("tr",[e("td",[a._v("CPU")]),a._v(" "),e("td",[a._v("鲲鹏920 5250处理器")])]),a._v(" "),e("tr",[e("td",[a._v("磁盘分区")]),a._v(" "),e("td",[a._v("对磁盘分区无要求")])])])]),a._v(" "),e("h2",{attrs:{id:"操作系统要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#操作系统要求"}},[a._v("#")]),a._v(" 操作系统要求")]),a._v(" "),e("p",[a._v("操作系统要求如下所示。")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("项目")]),a._v(" "),e("th",[a._v("版本")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("openEuler")]),a._v(" "),e("td",[a._v("20.03 sp1 aarch64")])]),a._v(" "),e("tr",[e("td",[a._v("Kernel")]),a._v(" "),e("td",[a._v("4.19")])])])]),a._v(" "),e("p",[a._v("说明：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("如果是全新安装操作系统，安装方式建议不要使用最小化安装，否则很多软件包需要手动安装，可选择“Server with GUI”安装方式。\n")])])]),e("h1",{attrs:{id:"配置编译环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置编译环境"}},[a._v("#")]),a._v(" 配置编译环境")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("安装开发包")]),a._v(" "),e("p",[a._v("yum update\nyum install gcc gcc-c++")])]),a._v(" "),e("li",[e("p",[a._v("安装依赖库")]),a._v(" "),e("p",[a._v("yum install apr-devel.aarch64 apr-util-devel.aarch64 pcre-devel.aarch64 -y")])]),a._v(" "),e("li",[e("p",[a._v("获取源码")]),a._v(" "),e("p",[a._v("下载地址： http://archive.apache.org/dist/httpd/httpd-2.4.39.tar.gz")])])]),a._v(" "),e("h2",{attrs:{id:"配置安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置安装"}},[a._v("#")]),a._v(" 配置安装")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("tar xzvf httpd-2.4.39.tar.gz\n")])])]),e("h2",{attrs:{id:"修改源码配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改源码配置"}},[a._v("#")]),a._v(" 修改源码配置")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("cd httpd-2.4.39\nvi ./build/config.sub\n\n找到下面两行进行修改,添加aarch64：\n\n| x86 | xc16x | xstormy16 | xtensa \\\n=>\n| x86 | aarch64 | xc16x | xstormy16 | xtensa \\\n\n\n| x86-* | x86_64-* | xc16x-* | xps100-* \\\n=>\n| x86-* | aarch64-* | x86_64-* | xc16x-* | xps100-* \\\n")])])]),e("h2",{attrs:{id:"编译安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[a._v("#")]),a._v(" 编译安装")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("./configure --host=aarch64 --build=aarch64\nmake -j4\nmake install\n")])])]),e("h1",{attrs:{id:"参数配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数配置"}},[a._v("#")]),a._v(" 参数配置")]),a._v(" "),e("h2",{attrs:{id:"修改httpd-conf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改httpd-conf"}},[a._v("#")]),a._v(" 修改httpd.conf")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("vi /usr/local/apache2/conf/httpd.conf\n\n89行取消注释：\n  LoadModule socache_shmcb_module modules/mod_socache_shmcb.so\n\n196行取消注释，修改为当前服务器IP \n  #ServerName www.example.com:80\n  =>\n  ServerName local_server_ip:80\n\n461行取消注释\n  Include conf/extra/httpd-mpm.conf\n\n488行取消注释\n  Include conf/extra/httpd-default.conf\n")])])]),e("h2",{attrs:{id:"修改httpd-default-conf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改httpd-default-conf"}},[a._v("#")]),a._v(" 修改httpd-default.conf")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("vi /usr/local/apache2/conf/extra/httpd-default.conf\n\n23行值修改为0\n  MaxKeepAliveRequests 0\n")])])]),e("h1",{attrs:{id:"验证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[a._v("#")]),a._v(" 验证：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("apache启动命令:\n  /usr/local/apache2/bin/httpd -f /usr/local/apache2/conf/httpd.conf -k start\n\napache停止命令:\n  /usr/local/apache2/bin/httpd -f /usr/local/apache2/conf/httpd.conf -k stop\n\n查看服务进程:\n  ps -ef |grep httpd\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);