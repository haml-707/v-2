(window.webpackJsonp=window.webpackJsonp||[]).push([[62,81],{1432:function(t,e,i){"use strict";i(756)},1509:function(t,e,i){"use strict";i.r(e);i(56),i(57);var s={name:"moocDetail",data:function(){return{videoCtrlParams:{element:"",isShow:!0,barWidth:590},isNowPlay:!1,defaultProps:{children:"children",label:"label"},menuData:[],currentNode:{title:"",ppt:"",desc:"",video:"",key:""},teacherList:[],introductionText:[],allNode:[],courseH1:"",courseIndex:0,isShowMenu:!1,mobileNavIndex:-1,navItemIndex:""}},mounted:function(){this.videoCtrlParams.element=document.getElementById("pc-video"),this.getMenu(),this.introductionText=this.menuData[0].introduction,this.teacherList=this.menuData[0].teacher,this.currentNode.title=this.menuData[0].label,this.currentNode.key=this.menuData[0].key,this.allNode=this.getCoursePath(this.menuData)},updated:function(){this.isShowH5||this.setCheckedNode()},methods:{toCourse:function(t,e){this.setCourseData(t),this.showMenu("hide"),this.navItemIndex=t.key},showItem:function(t,e){0==t?(this.setCourseData(e),this.showMenu("hide")):this.mobileNavIndex===t?this.mobileNavIndex=-1:this.mobileNavIndex=t},showMenu:function(t){if("show"===t)this.isShowMenu=!0;else{if("hide"!==t)return!1;this.isShowMenu=!1}},setCheckedNode:function(){this.$refs.tree.setCurrentKey(this.currentNode.key)},getMenu:function(){var t=this;this.i18n.learn.MOOC_DATA.forEach((function(e){e.ID==t.$route.query.id&&(t.menuData=e.NAV_DATA,t.courseH1=e.COURSE_H1)}))},checkStatus:function(t){this.isNowPlay=!0===t},handleNodeClick:function(t,e,i){this.setCourseData(t),t.key&&this.isShowH5&&(this.isShowMenu=!1)},getCoursePath:function(t){var e=this;return t.forEach((function(t,i){t.children&&t.children.length?e.getCoursePath(t.children):e.allNode.push(t)})),this.allNode},playmoocVideo:function(t){"webBtn"===t?this.$refs.playctrlEle.isPlay=!0:"mobileBtn"===t&&(this.$refs.mobileVideo.play(),this.isNowPlay=!0)},getTitleAndIndex:function(t,e){var i=this;t.forEach((function(s,n){if(s.key===i.currentNode.key&&0!==n&&"prev"===e)i.currentNode.title=t[n-1].label,i.courseIndex=n-1;else{if(s.key!==i.currentNode.key||"next"!==e)return!1;i.currentNode.title=t[n+1].label,i.courseIndex=n+1}}))},setCourseData:function(t){if(t.introduction)this.introductionText=t.introduction,this.currentNode.title=t.label,this.currentNode.key=t.key,this.currentNode.desc="",this.isShowH5||this.setCheckedNode(),t.ppt&&(this.currentNode.ppt=t.ppt);else{if(!t.desc)return!1;this.introductionText=[],this.currentNode.title=t.label,this.currentNode.ppt=t.ppt_link,this.currentNode.desc=t.desc,this.currentNode.video=t.video_link,this.currentNode.key=t.key,this.isShowH5?this.$refs.mobileVideo.isPlay=!1:(this.$refs.playctrlEle.isPlay=!1,this.setCheckedNode(),this.$refs.playctrlEle.barPercentage=0)}},previous:function(){this.getTitleAndIndex(this.allNode,"prev"),this.currentNode.key=this.allNode[this.courseIndex].key,this.setCourseData(this.allNode[this.courseIndex])},next:function(){if(this.getTitleAndIndex(this.allNode,"next"),this.courseIndex===this.allNode.length-1)return!1;this.currentNode.key=this.allNode[this.courseIndex].key,this.setCourseData(this.allNode[this.courseIndex])}},components:{playcontroll:i(607).default}},n=(i(1432),i(42)),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mooc-detail"},[t.isShowH5?i("div",{staticClass:"detail-mobile"},[i("div",{staticClass:"mobile-menu"},[i("div",{staticClass:"prev",on:{click:t.previous}},[i("i",{staticClass:"el-icon-arrow-left"}),t._v(" "),i("span",[t._v(t._s(t.i18n.learn.PREV_TEXT))])]),t._v(" "),i("div",{staticClass:"menu",on:{click:function(e){return t.showMenu("show")}}},[i("span",[t._v(t._s(t.i18n.learn.MOOC_CATALOG))])]),t._v(" "),i("div",{staticClass:"next",on:{click:t.next}},[i("span",[t._v(t._s(t.i18n.learn.NEXT_TEXT))]),t._v(" "),i("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"nav-tree"},[i("ul",{staticClass:"course-menu"},t._l(t.menuData,(function(e,s){return i("li",{key:s},[i("div",{on:{click:function(i){return t.showItem(s,e)}}},[i("span",[t._v(t._s(e.label))]),t._v(" "),0!==s?i("i",{class:t.mobileNavIndex===s?"el-icon-arrow-down":"el-icon-arrow-right"}):t._e()]),t._v(" "),i("el-collapse-transition",[i("ul",{directives:[{name:"show",rawName:"v-show",value:e.children&&t.mobileNavIndex===s,expression:"items.children && mobileNavIndex === indexs"}],staticClass:"item"},t._l(e.children,(function(e,s){return i("li",{class:t.navItemIndex===e.key?"active":"",on:{click:function(i){return t.toCourse(e,s)}}},[t._v(t._s(e.label))])})),0)])],1)})),0),t._v(" "),i("div",{staticClass:"course-mask",on:{click:function(e){return t.showMenu("hide")}}})])]),t._v(" "),i("div",{staticClass:"mobile-content"},[i("p",{staticClass:"title"},[i("span",{key:t.currentNode.title},[t._v(t._s(t.currentNode.title))])]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.currentNode.desc))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.introductionText.length,expression:"introductionText.length"}],staticClass:"text"},[t._l(t.introductionText,(function(e,s){return i("p",[t._v(t._s(e))])})),t._v(" "),"introduction0"===t.currentNode.key?i("div",{staticClass:"teacher"},[i("p",[t._v(t._s(t.i18n.learn.TEACHER_TEAM))]),t._v(" "),t._l(t.teacherList,(function(e,s){return i("div",{staticClass:"item"},[i("img",{attrs:{src:e.img,alt:""}}),t._v(" "),i("div",[i("p",[t._v(t._s(e.position))]),t._v(" "),i("p",[t._v(t._s(e.name))])])])}))],2):t._e()],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.introductionText.length,expression:"!introductionText.length"}],staticClass:"video"},[i("video",{ref:"mobileVideo",attrs:{src:t.currentNode.video,loop:"",width:"315px",height:"200px"}}),t._v(" "),t.isNowPlay?t._e():i("div",{staticClass:"play-btn",on:{click:function(e){return t.playmoocVideo("mobileBtn")}}})])])],1):i("div",{staticClass:"detail-pc"},[i("router-link",{staticClass:"back",attrs:{to:"/"+t.$lang+"/learn/mooc/",tag:"p"}},[t._v(t._s(t.i18n.learn.MOOC_LIST_ROUTRE)+"\\")]),t._v(" "),i("h1",[t._v(t._s(t.courseH1))]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"article-nav fl"},[i("div",{staticClass:"nav-top"},[t._v(t._s(t.i18n.learn.MOOC_CATALOG))]),t._v(" "),i("el-tree",{ref:"tree",attrs:{"node-key":"key",data:t.menuData,props:t.defaultProps,accordion:"","highlight-current":!0},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),i("div",{staticClass:"article-detail fl"},[i("div",{staticClass:"infomation"},[i("div",[i("p",[i("span",{key:t.currentNode.title,staticClass:"title"},[t._v(t._s(t.currentNode.title))]),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.currentNode.ppt,expression:"currentNode.ppt"}],staticClass:"download",attrs:{href:t.currentNode.ppt,download:t.currentNode.ppt}},[t._v(t._s(t.i18n.learn.COURSE_DOWNLOAD))])]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.currentNode.desc))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.introductionText.length,expression:"introductionText.length"}],staticClass:"text"},[t._l(t.introductionText,(function(e,s){return i("p",[t._v(t._s(e))])})),t._v(" "),"introduction0"===t.currentNode.key?i("div",{staticClass:"teacher"},[i("p",[t._v(t._s(t.i18n.learn.TEACHER_TEAM))]),t._v(" "),t._l(t.teacherList,(function(e,s){return i("div",{staticClass:"item"},[i("img",{attrs:{src:e.img,alt:""}}),t._v(" "),i("div",[i("p",[t._v(t._s(e.position))]),t._v(" "),i("p",[t._v(t._s(e.name))])])])}))],2):t._e()],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.introductionText.length,expression:"!introductionText.length"}],staticClass:"video"},[i("video",{attrs:{src:t.currentNode.video,loop:"",width:"712px",height:"400px",id:"pc-video"}}),t._v(" "),i("playcontroll",{ref:"playctrlEle",attrs:{"ctrl-obj":t.videoCtrlParams},on:{playStatus:t.checkStatus}}),t._v(" "),t.isNowPlay?t._e():i("div",{staticClass:"play-btn",on:{click:function(e){return t.playmoocVideo("webBtn")}}})],1),t._v(" "),i("div",{staticClass:"crtl-btn"},[i("div",{staticClass:"prev",on:{click:t.previous}},[i("i",{staticClass:"el-icon-arrow-left"}),t._v(" "),i("span",[t._v(t._s(t.i18n.learn.PREV_TEXT))])]),t._v(" "),i("div",{staticClass:"next",on:{click:t.next}},[i("span",[t._v(t._s(t.i18n.learn.NEXT_TEXT))]),t._v(" "),i("i",{staticClass:"el-icon-arrow-right"})])])])])],1)])}),[],!1,null,"2b014804",null);e.default=a.exports},573:function(t,e,i){},597:function(t,e,i){var s=i(1),n=i(598);s({global:!0,forced:parseFloat!=n},{parseFloat:n})},598:function(t,e,i){var s=i(3),n=i(2),a=i(22),r=i(312).trim,o=i(193),l=s.parseFloat,c=s.Symbol,u=c&&c.iterator,d=1/l(o+"-0")!=-1/0||u&&!n((function(){l(Object(u))}));t.exports=d?function(t){var e=r(a(t)),i=l(e);return 0===i&&"-"==e.charAt(0)?-0:i}:l},599:function(t,e,i){"use strict";i(573)},607:function(t,e,i){"use strict";i.r(e);i(187),i(597);var s={data:function(){return{isPlay:!1,isMuted:!1,realTimeUpdate:null,barPercentage:0,barValue:0}},props:["ctrlObj"],watch:{isPlay:function(){var t=this;1==this.isPlay?(this.ctrlObj.element.play(),this.realTimeUpdate=setInterval((function(){t.progressBar()}),200),this.$emit("playStatus",!0)):(this.ctrlObj.element.pause(),clearInterval(this.realTimeUpdate),this.$emit("playStatus",!1))},isMuted:function(){0==this.isMuted?this.ctrlObj.element.muted=!1:this.ctrlObj.element.muted=!0},ctrlObj:{handler:function(t,e){this.barValue=t.barWidth},deep:!0}},mounted:function(){this.barValue=this.ctrlObj.barWidth},methods:{progressBar:function(){var t=this.ctrlObj.element.duration,e=this.ctrlObj.element.currentTime,i=parseFloat(e/t);this.ctrlObj.element.readyState<=0?this.barPercentage=0:(e>=t&&(i=1,clearInterval(this.realTimeUpdate),this.isPlay=!0),this.barPercentage=Math.floor(100*i))},controllBar:function(t){var e=(t=t||window.event).offsetX,i=this.ctrlObj.element.duration;this.barPercentage=Math.floor(100*parseFloat(e/this.barValue)),this.ctrlObj.element.currentTime=parseFloat(parseFloat(e/this.barValue)*i)},fullScreen:function(){this.ctrlObj.element.webkitRequestFullScreen()}},destroyed:function(){clearInterval(this.realTimeUpdate)}},n=(i(599),i(42)),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["playControll",t.ctrlObj.isShow?"big-controll":""]},[i("div",{class:["play-pause",t.isPlay?"pause-icon":"play-icon"],on:{click:function(e){t.isPlay=!t.isPlay}}}),t._v(" "),i("div",{staticClass:"timebar",style:{width:t.ctrlObj.barWidth+"px"},on:{click:function(e){return t.controllBar()}}},[i("span",{style:{width:t.barPercentage+"%"}})]),t._v(" "),i("div",{class:["voice-mute",t.isMuted?"mute-icon":"voice-icon"],on:{click:function(e){t.isMuted=!t.isMuted}}}),t._v(" "),i("div",{staticClass:"full-screen",on:{click:function(e){return t.fullScreen()}}})])}),[],!1,null,"4e583cb8",null);e.default=a.exports},756:function(t,e,i){}}]);